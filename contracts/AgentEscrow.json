{
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address[]",
          "name": "_allowedTokens",
          "type": "address[]"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "worker",
          "type": "address"
        }
      ],
      "name": "EscrowAccepted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "EscrowCancelled",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "worker",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "EscrowClaimed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "taskHash",
          "type": "string"
        }
      ],
      "name": "EscrowCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "worker",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "EscrowReleased",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        }
      ],
      "name": "acceptEscrow",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "allowedTokens",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        }
      ],
      "name": "cancelEscrow",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        }
      ],
      "name": "claimAfterTimeout",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "taskHash",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "timeout",
          "type": "uint256"
        }
      ],
      "name": "createEscrow",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "escrowCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "escrows",
      "outputs": [
        {
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "worker",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "taskHash",
          "type": "string"
        },
        {
          "internalType": "enum AgentEscrow.Status",
          "name": "status",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "createdAt",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "acceptedAt",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "timeout",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        }
      ],
      "name": "getEscrow",
      "outputs": [
        {
          "internalType": "address",
          "name": "creator",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "worker",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "taskHash",
          "type": "string"
        },
        {
          "internalType": "enum AgentEscrow.Status",
          "name": "status",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "createdAt",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "acceptedAt",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "timeout",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "claimable",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "offset",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "limit",
          "type": "uint256"
        }
      ],
      "name": "getOpenEscrows",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        }
      ],
      "name": "releaseEscrow",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561000f575f5ffd5b5060405161169f38038061169f83398101604081905261002e916100bf565b5f5b815181101561008957600160025f84848151811061005057610050610189565b6020908102919091018101516001600160a01b031682528101919091526040015f20805460ff1916911515919091179055600101610030565b505061019d565b634e487b7160e01b5f52604160045260245ffd5b80516001600160a01b03811681146100ba575f5ffd5b919050565b5f602082840312156100cf575f5ffd5b81516001600160401b038111156100e4575f5ffd5b8201601f810184136100f4575f5ffd5b80516001600160401b0381111561010d5761010d610090565b604051600582901b90603f8201601f191681016001600160401b038111828210171561013b5761013b610090565b604052918252602081840181019290810187841115610158575f5ffd5b6020850194505b8385101561017e57610170856100a4565b81526020948501940161015f565b509695505050505050565b634e487b7160e01b5f52603260045260245ffd5b6114f5806101aa5f395ff3fe608060405234801561000f575f5ffd5b506004361061009b575f3560e01c80637d19e596116100635780637d19e5961461012e578063e018243614610157578063e744092e1461016a578063ed6531641461019c578063ee28ea62146101af575f5ffd5b8063012f52ee1461009f578063578f6fd9146100d057806366e3aad6146100f0578063675ac67a146101115780636f556d2614610119575b5f5ffd5b6100b26100ad366004611017565b6101c2565b6040516100c799989796959493929190611090565b60405180910390f35b6100e36100de3660046110fb565b6102a6565b6040516100c7919061111b565b6101036100fe366004611178565b610408565b6040519081526020016100c7565b6101035f5481565b61012c610127366004611017565b6107f5565b005b61014161013c366004611017565b610a0b565b6040516100c79a99989796959493929190611202565b61012c610165366004611017565b610b61565b61018c610178366004611277565b60026020525f908152604090205460ff1681565b60405190151581526020016100c7565b61012c6101aa366004611017565b610d42565b61012c6101bd366004611017565b610efc565b600160208190525f9182526040909120805491810154600282015460038301546004840180546001600160a01b0396871696948516959490931693919261020890611297565b80601f016020809104026020016040519081016040528092919081815260200182805461023490611297565b801561027f5780601f106102565761010080835404028352916020019161027f565b820191905f5260205f20905b81548152906001019060200180831161026257829003601f168201915b50505050600583015460068401546007850154600890950154939460ff9092169390925089565b60605f8267ffffffffffffffff8111156102c2576102c26112cf565b6040519080825280602002602001820160405280156102eb578160200160208202803683370190505b5090505f845b5f548110801561030057508482105b1561036c575f8181526001602052604081206005015460ff16600481111561032a5761032a61105c565b0361035a5780838361033b816112f7565b94508151811061034d5761034d61130f565b6020026020010181815250505b80610364816112f7565b9150506102f1565b505f8167ffffffffffffffff811115610387576103876112cf565b6040519080825280602002602001820160405280156103b0578160200160208202803683370190505b5090505f5b828110156103fc578381815181106103cf576103cf61130f565b60200260200101518282815181106103e9576103e961130f565b60209081029190910101526001016103b5565b50925050505b92915050565b6001600160a01b0385165f9081526002602052604081205460ff166104685760405162461bcd60e51b8152602060048201526011602482015270151bdad95b881b9bdd08185b1b1bddd959607a1b60448201526064015b60405180910390fd5b5f85116104b75760405162461bcd60e51b815260206004820152601760248201527f416d6f756e74206d75737420626520706f736974697665000000000000000000604482015260640161045f565b6402540be40085111561050c5760405162461bcd60e51b815260206004820181905260248201527f45786365656473206d617820657363726f77202831302c303030205553444329604482015260640161045f565b610e1082101561055e5760405162461bcd60e51b815260206004820152601960248201527f54696d656f7574206d757374206265203e3d203120686f757200000000000000604482015260640161045f565b826105ab5760405162461bcd60e51b815260206004820152601960248201527f5461736b206465736372697074696f6e20726571756972656400000000000000604482015260640161045f565b6040516323b872dd60e01b8152336004820152306024820152604481018690526001600160a01b038716906323b872dd906064016020604051808303815f875af11580156105fb573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061061f9190611323565b61063b5760405162461bcd60e51b815260040161045f90611342565b5f80548180610649836112f7565b919050559050604051806101200160405280336001600160a01b031681526020015f6001600160a01b03168152602001886001600160a01b0316815260200187815260200186868080601f0160208091040260200160405190810160405280939291908181526020018383808284375f9201829052509385525050602090920191508152426020808301919091525f60408084018290526060938401889052858252600180845291819020855181546001600160a01b03199081166001600160a01b03928316178355948701519382018054861694821694909417909355908501516002820180549094169216919091179091559082015160038201556080820151600482019061075a90826113bc565b5060a082015160058201805460ff1916600183600481111561077e5761077e61105c565b021790555060c0820151816006015560e082015181600701556101008201518160080155905050336001600160a01b0316817f70671f561c45e0ebd52b61b0b5b5bc90756cbe42cb834a12f813589a909d55628888886040516107e393929190611477565b60405180910390a39695505050505050565b5f81815260016020819052604090912090600582015460ff16600481111561081f5761081f61105c565b146108625760405162461bcd60e51b8152602060048201526013602482015272115cd8dc9bddc81b9bdd081858d8d95c1d1959606a1b604482015260640161045f565b60018101546001600160a01b031633146108b65760405162461bcd60e51b81526020600482015260156024820152744f6e6c7920776f726b65722063616e20636c61696d60581b604482015260640161045f565b806008015481600701546108ca91906114ac565b42101561090f5760405162461bcd60e51b8152602060048201526013602482015272151a5b595bdd5d081b9bdd081c995858da1959606a1b604482015260640161045f565b60058101805460ff1916600490811790915560028201546001830154600384015460405163a9059cbb60e01b81526001600160a01b03928316948101949094526024840152169063a9059cbb906044016020604051808303815f875af115801561097b573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061099f9190611323565b6109bb5760405162461bcd60e51b815260040161045f90611342565b600181015460038201546040519081526001600160a01b039091169083907f264b84d6bb26c82423cfcb91b4220efaba80e38b8ea7a87b58a80fcaf0956912906020015b60405180910390a35050565b5f8181526001602081905260408220829182918291606091839182918291829182918290600583015460ff166004811115610a4857610a4861105c565b148015610a68575081600801548260070154610a6491906114ac565b4210155b825460018401546002850154600386015460058701546006880154600789015460088a015460048b018054999a506001600160a01b0398891699978916989096169694959460ff909416938a908690610ac090611297565b80601f0160208091040260200160405190810160405280929190818152602001828054610aec90611297565b8015610b375780601f10610b0e57610100808354040283529160200191610b37565b820191905f5260205f20905b815481529060010190602001808311610b1a57829003601f168201915b505050505095509b509b509b509b509b509b509b509b509b509b5050509193959799509193959799565b5f81815260016020526040812090600582015460ff166004811115610b8857610b8861105c565b14610bd55760405162461bcd60e51b815260206004820152601c60248201527f43616e206f6e6c792063616e63656c206f70656e20657363726f777300000000604482015260640161045f565b80546001600160a01b03163314610c2e5760405162461bcd60e51b815260206004820152601760248201527f4f6e6c792063726561746f722063616e2063616e63656c000000000000000000604482015260640161045f565b60058101805460ff19166003908117909155600282015482549183015460405163a9059cbb60e01b81526001600160a01b039384166004820152602481019190915291169063a9059cbb906044016020604051808303815f875af1158015610c98573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610cbc9190611323565b610cfd5760405162461bcd60e51b81526020600482015260126024820152711554d110c81c99599d5b990819985a5b195960721b604482015260640161045f565b805460038201546040519081526001600160a01b039091169083907fdb19fb28f3e1bd98931a09b28e0c217ab5008bfb3cbb1bdd406d994ad534a735906020016109ff565b5f81815260016020819052604090912090600582015460ff166004811115610d6c57610d6c61105c565b14610daf5760405162461bcd60e51b8152602060048201526013602482015272115cd8dc9bddc81b9bdd081858d8d95c1d1959606a1b604482015260640161045f565b80546001600160a01b03163314610e085760405162461bcd60e51b815260206004820152601860248201527f4f6e6c792063726561746f722063616e2072656c656173650000000000000000604482015260640161045f565b60058101805460ff191660029081179091558101546001820154600383015460405163a9059cbb60e01b81526001600160a01b039283166004820152602481019190915291169063a9059cbb906044016020604051808303815f875af1158015610e74573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610e989190611323565b610eb45760405162461bcd60e51b815260040161045f90611342565b600181015460038201546040519081526001600160a01b039091169083907f6244ed823ca6be0f11bc890c3fafcf3c29cb23420c14243642e930b5e07e6d0a906020016109ff565b5f81815260016020526040812090600582015460ff166004811115610f2357610f2361105c565b14610f625760405162461bcd60e51b815260206004820152600f60248201526e22b9b1b937bb903737ba1037b832b760891b604482015260640161045f565b80546001600160a01b03163303610fbb5760405162461bcd60e51b815260206004820181905260248201527f43726561746f722063616e6e6f7420616363657074206f776e20657363726f77604482015260640161045f565b600180820180546001600160a01b0319163317905560058201805460ff191682800217905550426007820155604051339083907f2aaf7ce1949df9ffc5cfe61975cc253ee5ed1ab5a91470f722c539aa2f67a679905f90a35050565b5f60208284031215611027575f5ffd5b5035919050565b5f81518084528060208401602086015e5f602082860101526020601f19601f83011685010191505092915050565b634e487b7160e01b5f52602160045260245ffd5b6005811061108c57634e487b7160e01b5f52602160045260245ffd5b9052565b6001600160a01b038a8116825289811660208301528816604082015260608101879052610120608082018190525f906110cb9083018861102e565b90506110da60a0830187611070565b8460c08301528360e0830152826101008301529a9950505050505050505050565b5f5f6040838503121561110c575f5ffd5b50508035926020909101359150565b602080825282518282018190525f918401906040840190835b81811015611152578351835260209384019390920191600101611134565b509095945050505050565b80356001600160a01b0381168114611173575f5ffd5b919050565b5f5f5f5f5f6080868803121561118c575f5ffd5b6111958661115d565b945060208601359350604086013567ffffffffffffffff8111156111b7575f5ffd5b8601601f810188136111c7575f5ffd5b803567ffffffffffffffff8111156111dd575f5ffd5b8860208284010111156111ee575f5ffd5b959894975060200195606001359392505050565b6001600160a01b038b811682528a811660208301528916604082015260608101889052610140608082018190525f9061123d9083018961102e565b905061124c60a0830188611070565b8560c08301528460e0830152836101008301528215156101208301529b9a5050505050505050505050565b5f60208284031215611287575f5ffd5b6112908261115d565b9392505050565b600181811c908216806112ab57607f821691505b6020821081036112c957634e487b7160e01b5f52602260045260245ffd5b50919050565b634e487b7160e01b5f52604160045260245ffd5b634e487b7160e01b5f52601160045260245ffd5b5f60018201611308576113086112e3565b5060010190565b634e487b7160e01b5f52603260045260245ffd5b5f60208284031215611333575f5ffd5b81518015158114611290575f5ffd5b6020808252601490820152731554d110c81d1c985b9cd9995c8819985a5b195960621b604082015260600190565b601f8211156113b757805f5260205f20601f840160051c810160208510156113955750805b601f840160051c820191505b818110156113b4575f81556001016113a1565b50505b505050565b815167ffffffffffffffff8111156113d6576113d66112cf565b6113ea816113e48454611297565b84611370565b6020601f82116001811461141c575f83156114055750848201515b5f19600385901b1c1916600184901b1784556113b4565b5f84815260208120601f198516915b8281101561144b578785015182556020948501946001909201910161142b565b508482101561146857868401515f19600387901b60f8161c191681555b50505050600190811b01905550565b83815260406020820152816040820152818360608301375f818301606090810191909152601f909201601f1916010192915050565b80820180821115610402576104026112e356fea26469706673582212205a6e31b9c5266750d39da8f5563656321c0844704a0cdd579193a5b7296f8bc264736f6c634300081c0033",
  "compiler": "solc-0.8.28",
  "optimized": true,
  "runs": 200
}